//a strange new world :P 
//not really a lazy man's strange world 
// ---------  7
//|	      |		
//9---------------------11
//|	      |		|
//10	      |		|
//|	      |		|
//6 <->	      5	<->	4<->	14<->	8<->
//| 	      |			<---		
//| 	      |			   ---->	
//| 	      |				|	
//1 <->	      12<->	2<->	13<->	3	
//| 	      |					
//|	      |					
//15<->	      0			

//r1 init 6 r2 init 2 r3 init 4 

mdp


       //const double fail = 0.2;
       const int failstate = 19;
       const double p = 0.8;


module world

       s:[0..failstate] init 6; 
       //the last state is a fail state 
       [v0_v12] (s=0) -> p:(s'=12)+(1-p):(s'=failstate);
       [v0_v15] (s=0) -> p:(s'=15)+(1-p):(s'=failstate);
       
       [v1_v15] (s=1) -> p:(s'=15)+(1-p):(s'=failstate);
       [v1_v12] (s=1) -> p:(s'=12)+(1-p):(s'=failstate);
       [v1_v6]  (s=1) -> p:(s'=6)+(1-p):(s'=failstate);
       
       [v2_v12] (s=2) -> p:(s'=12)+(1-p):(s'=failstate);
       [v2_v13] (s=2) -> p:(s'=13)+(1-p):(s'=failstate);

       [v3_v13] (s=3) -> p:(s'=13)+(1-p):(s'=failstate);
       [v3_v14] (s=3) -> p:(s'=14)+(1-p):(s'=failstate);

       [v4_v14] (s=4) -> p:(s'=14)+(1-p):(s'=failstate);
       [v4_v11] (s=4) -> p:(s'=11)+(1-p):(s'=failstate);
       [v4_v5]  (s=4) -> p:(s'=5)+(1-p):(s'=failstate);

       [v5_v4]  (s=5) -> p:(s'=4)+(1-p):(s'=failstate);
       [v5_v6]  (s=5) -> p:(s'=6)+(1-p):(s'=failstate);
       
       [v6_v1]  (s=6) -> p:(s'=1)+(1-p):(s'=failstate);
       [v6_v5]  (s=6) -> p:(s'=5)+(1-p):(s'=failstate);
       [v6_v10] (s=6) -> p:(s'=10)+(1-p):(s'=failstate);

       [v7_v9]  (s=7) -> p:(s'=9)+(1-p):(s'=failstate);

       [v8_v4]  (s=8) -> p:(s'=4)+(1-p):(s'=failstate);
//       [v8_v15] (s=8) -> p:(s'=15)+(1-p):(s'=failstate);
       
       [v9_v7]  (s=9) -> p:(s'=7)+(1-p):(s'=failstate);
       [v9_v10] (s=9) -> p:(s'=10)+(1-p):(s'=failstate);
       [v9_v11] (s=9) -> p:(s'=11)+(1-p):(s'=failstate);

       [v10_v6] (s=10) -> p:(s'=6)+(1-p):(s'=failstate);
       [v10_v9] (s=10) -> p:(s'=9)+(1-p):(s'=failstate);

       [v11_v4] (s=11) -> p:(s'=4)+(1-p):(s'=failstate);
       [v11_v9] (s=11) -> p:(s'=9)+(1-p):(s'=failstate);

       [v12_v0] (s=12) -> p:(s'=0)+(1-p):(s'=failstate);
       [v12_v1] (s=12) -> p:(s'=1)+(1-p):(s'=failstate);
       [v12_v2] (s=12) -> p:(s'=2)+(1-p):(s'=failstate);

       [v13_v2] (s=13) -> p:(s'=2)+(1-p):(s'=failstate);       
       [v13_v3] (s=13) -> p:(s'=3)+(1-p):(s'=failstate);       
       [v13_v17](s=13) -> p:(s'=17)+(1-p):(s'=failstate);       

       [v14_v3] (s=14) -> p:(s'=3)+(1-p):(s'=failstate);              
       [v14_v4] (s=14) -> p:(s'=4)+(1-p):(s'=failstate);              
       [v14_v8] (s=14) -> p:(s'=8)+(1-p):(s'=failstate);              

       [v15_v0] (s=15) -> p:(s'=0)+(1-p):(s'=failstate);              
       [v15_v1] (s=15) -> p:(s'=1)+(1-p):(s'=failstate);              

       [failed] (s=failstate) -> (s'=failstate);

endmodule 

label "v0" = s=0; 
label "v1" = s=1; 
label "v2" = s=2; 
label "v3" = s=3; 
label "v4" = s=4;
label "v5" = s=5; 
label "v6" = s=6; 
label "v7" = s=7;
label "v8" = s=8;
label "v9" = s=9; 
label "v10" = s=10; 
label "v11" = s=11;
label "v12" = s=12; 
label "v13" = s=13; 
label "v14" = s=14;
label "v15" = s=15; 

rewards "time"

	[v0_v12] (s=0):1.0;
       [v0_v15] (s=0) :1.0;
       
       [v1_v15] (s=1):1.0;
       [v1_v12] (s=1):1.0;
       [v1_v6]  (s=1):1.0;
       
       [v2_v12] (s=2):1.0;
       [v2_v13] (s=2):1.0;

       [v3_v13] (s=3):1.0;
       [v3_v14] (s=3):1.0;

       [v4_v14] (s=4):1.0;
       [v4_v11] (s=4):1.0;
       [v4_v5]  (s=4):1.0;

       [v5_v4]  (s=5):1.0;
       [v5_v6]  (s=5):1.0;
       
       [v6_v1]  (s=6):1.0;
       [v6_v5]  (s=6):1.0;
       [v6_v10] (s=6):1.0;

       [v7_v9]  (s=7):1.0;

       [v8_v4]  (s=8):1.0;
//       [v8_v15] (s=8):1.0;
       
       [v9_v7]  (s=9):1.0;
       [v9_v10] (s=9):1.0;
       [v9_v11] (s=9):1.0;

       [v10_v6] (s=10):1.0;
       [v10_v9] (s=10):1.0;

       [v11_v4] (s=11):1.0;
       [v11_v9] (s=11):1.0;

       [v12_v0] (s=12):1.0;
       [v12_v1] (s=12):1.0;
       [v12_v2] (s=12):1.0;

       [v13_v2] (s=13):1.0;       
       [v13_v3] (s=13):1.0;       
       [v13_v17](s=13):1.0;       

       [v14_v3] (s=14):1.0;              
       [v14_v4] (s=14):1.0;              
       [v14_v8] (s=14):1.0;              

       [v15_v0] (s=15):1.0;              
       [v15_v1] (s=15):1.0; 

	
       [failed] (s=failstate) : 1.0;

endrewards


